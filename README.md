# Agent Kit

**P2P диалоговая система для AI моделей.** Позволяет Claude Code консультироваться с Gemini и Codex для получения альтернативного мнения, code review и совместного решения задач.

## Ключевая возможность: команды `/gemini` и `/codex`

При работе в Claude Code используйте команды для старта диалога с другой AI моделью:

```
/gemini оцени мой план рефакторинга компонента UserProfile
/codex предложи архитектуру для системы авторизации
```

**Что происходит:**
1. Claude формулирует запрос и отправляет второй модели
2. Модели обсуждают, спорят, ищут консенсус
3. Вы получаете согласованный результат (или обе позиции при разногласиях)

## Протокол диалога

Система использует структурированные правила для продуктивного диалога:

- **Бюджет прогресса** — диалог продолжается пока есть прогресс
- **Честный диалог** — обе модели признают сильные аргументы друг друга
- **Правило синтеза** — при расхождениях модели объединяют лучшее из обоих подходов
- **Эскалация** — если консенсус недостижим, решение за пользователем

[Подробнее о протоколе →](docs/dialogue-protocol.md)

## Установка

Добавить инструменты в ваш проект:

```bash
curl -fsSL https://raw.githubusercontent.com/vladislavlozhkin/agent-kit/main/install.sh | bash
```

**Требования:**
- `git`
- `curl` или `wget`
- Утилита `gemini` в PATH (для Gemini)
- Утилита `codex` в PATH (для Codex)

## Прямое использование CLI

Для диалога человек-AI без Claude:

### Gemini

| Скрипт | Описание |
| :--- | :--- |
| `.claude/scripts/gemini/new.sh "запрос"` | Новая сессия |
| `.claude/scripts/gemini/continue.sh "запрос"` | Продолжить сессию |

### Codex

| Скрипт | Описание |
| :--- | :--- |
| `.claude/scripts/codex/new.sh "запрос"` | Новая сессия |
| `.claude/scripts/codex/continue.sh "запрос"` | Продолжить сессию |

Все диалоги сохраняются в `.claude/logs/{gemini,codex}/` в формате Markdown.

## Конфигурация

| Переменная | По умолчанию | Описание |
| :--- | :--- | :--- |
| `GEMINI_MODEL` | `pro` | Модель Gemini (`flash`, `pro`, `gemini-1.5-pro`) |
| `CODEX_MODEL` | `gpt-5.2` | Модель Codex (`gpt-4o`, `gpt-5.2`) |

```bash
GEMINI_MODEL="flash" ./.claude/scripts/gemini/new.sh "Быстрый вопрос"
CODEX_MODEL="gpt-4o" ./.claude/scripts/codex/new.sh "Быстрый вопрос"
```
